/*
 * @author electricessence / https://github.com/electricessence/
 * Based upon .NET source.
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 * Source: http://referencesource.microsoft.com/#mscorlib/system/IObserver.cs
 */
!function(e,t){if("object"==typeof module&&"object"==typeof module.exports){var i=t(require,exports);void 0!==i&&(module.exports=i)}else"function"==typeof define&&define.amd&&define(e,t)}(["require","exports","../Collections/LinkedList","../Disposable/Utility","./Subscription"],function(e,t){var i=e("../Collections/LinkedList"),r=e("../Disposable/Utility"),o=e("./Subscription"),s=function(){function e(){this.__subscriptions=new i["default"]}return e.prototype._getSubscribers=function(){return this.__subscriptions.toArray().map(function(e){return e.subscriber})},e.prototype._findEntryNode=function(e){for(var t=this.__subscriptions.first;t&&t.value.subscriber!==e;)t=t.next;return t},e.prototype.subscribe=function(e){var t=this,i=t._findEntryNode(e);if(i)return i.value;var r=new o["default"](t,e);return t.__subscriptions.add(r),r},e.prototype.unsubscribe=function(e){var t=this._findEntryNode(e);if(t){var i=t.value;t.remove(),i.dispose()}},e.prototype._unsubscribeAll=function(e){void 0===e&&(e=!1);var t=this,i=t.__subscriptions,o=i.toArray(),s=e?o.map(function(e){return e.subscriber}):null;return i.clear(),r.disposeThese(o),s},e.prototype.unsubscribeAll=function(){this._unsubscribeAll()},e.prototype.dispose=function(){this._unsubscribeAll()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s});
//# sourceMappingURL=SubscribableBase.js.map
