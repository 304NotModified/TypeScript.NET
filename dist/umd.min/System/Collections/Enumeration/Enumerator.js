/*!
 * @author electricessence / https://github.com/electricessence/
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 */
!function(e){if("object"==typeof module&&"object"==typeof module.exports){var r=e(require,exports);void 0!==r&&(module.exports=r)}else"function"==typeof define&&define.amd&&define(["require","exports","../../Disposable/dispose","../../Types","./ArrayEnumerator","./IndexEnumerator","./UnsupportedEnumerableException"],e)}(function(e,r){"use strict";function n(e){if(e)throw new m["default"](h)}function t(e){if(Array.isArray(e)||p["default"].isString(e)){var r=e.length;if(isFinite(r)){if(r>65535)return new Array(r);var n=[];return n.length=r,n}}return[]}function u(e){if(!e)return v;if(Array.isArray(e))return new d["default"](e);if(p["default"].isArrayLike(e))return new y["default"](function(){return{source:e,length:e.length,pointer:0,step:1}});if(!p["default"].isPrimitive(e)&&o(e))return e.getEnumerator();throw new Error("Unknown enumerable.")}function o(e){return p["default"].hasMemberOfType(e,"getEnumerator",p["default"].FUNCTION)}function i(e){return p["default"].isArrayLike(e)||o(e)}function f(e){return p["default"].hasMemberOfType(e,"moveNext",p["default"].FUNCTION)}function a(e,r){if(e!==E&&null!==e){if(p["default"].isArrayLike(e)){n(!isFinite(e.length));for(var t=0;t<e.length&&r(e[t],t)!==!1;t++);return!0}if(f(e)){n(e.isEndless);for(var u=0;e.moveNext()&&r(e.current,u++)!==!1;);return!0}return o(e)?(n(e.isEndless),c.using(e.getEnumerator(),function(e){return a(e,r)}),!0):!1}}function s(e){if(e===b)return[];if(Array.isArray(e))return e.slice();var r=t(e);if(!a(e,function(e,n){r[n]=e}))throw new m["default"];return r}function l(e,r){var n=t(e);if(!a(e,function(e,t){n[t]=r(e)}))throw new m["default"];return n}var c=e("../../Disposable/dispose"),p=e("../../Types"),d=e("./ArrayEnumerator"),y=e("./IndexEnumerator"),m=e("./UnsupportedEnumerableException"),E=void 0,b="",h="Cannot call forEach on an endless enumerable. Would result in an infinite loop that could hang the current process.";r.throwIfEndless=n;var g=function(){function e(){}return Object.defineProperty(e.prototype,"current",{get:function(){return E},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return!1},e.prototype.nextValue=function(){return E},e.prototype.next=function(){return{value:E,done:!0}},e.prototype.reset=function(){},e.prototype.dispose=function(){},Object.defineProperty(e.prototype,"isEndless",{get:function(){return!1},enumerable:!0,configurable:!0}),e}(),v=new g;Object.freeze(v),r.empty=v,r.from=u,r.isEnumerable=o,r.isEnumerableOrArrayLike=i,r.isEnumerator=f,r.forEach=a,r.toArray=s,r.map=l});
//# sourceMappingURL=Enumerator.js.map
