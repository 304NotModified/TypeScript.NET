!function(r,e){if("object"==typeof module&&"object"==typeof module.exports){var n=e(require,exports);void 0!==n&&(module.exports=n)}else"function"==typeof define&&define.amd&&define(r,e)}(["require","exports","../../Disposable/dispose","../../Types","./ArrayEnumerator","./IndexEnumerator","./UnsupportedEnumerableException","./InfiniteEnumerator","./EmptyEnumerator","./IteratorEnumerator"],function(r,e){"use strict";function n(r){if(r)throw new d.UnsupportedEnumerableException(A);return!0}function t(r,e){if(void 0===e&&(e=1/0),Array.isArray(r)||y.Type.isString(r)){var n=Math.min(r.length,e);if(isFinite(n)){if(n>65535)return new Array(n);var t=[];return t.length=n,t}}return[]}function i(r){if(!r)return T.EmptyEnumerator;if(Array.isArray(r))return new c.ArrayEnumerator(r);if(y.Type.isArrayLike(r))return new l.IndexEnumerator(function(){return{source:r,length:r.length,pointer:0,step:1}});if(!y.Type.isPrimitive(r)){if(o(r))return r.getEnumerator();if(y.Type.isFunction(r))return new h.InfiniteEnumerator(r);if(a(r))return r;if(s(r))return new v.IteratorEnumerator(r)}throw new d.UnsupportedEnumerableException}function o(r){return y.Type.hasMemberOfType(r,"getEnumerator",y.Type.FUNCTION)}function u(r){return y.Type.isArrayLike(r)||o(r)}function a(r){return y.Type.hasMemberOfType(r,"moveNext",y.Type.FUNCTION)}function s(r){return y.Type.hasMemberOfType(r,"next",y.Type.FUNCTION)}function f(r,e,t){if(void 0===t&&(t=1/0),r===x)return 0;if(r&&t>0){if(y.Type.isArrayLike(r)){n(!isFinite(t)&&!isFinite(r.length));for(var i=0;i<Math.min(r.length,t)&&e(r[i],i)!==!1;i++);return i}if(a(r)){n(!isFinite(t)&&r.isEndless);for(var i=0;t>i&&r.moveNext()&&e(r.current,i++)!==!1;);return i}if(o(r))return n(!isFinite(t)&&r.isEndless),E.using(r.getEnumerator(),function(r){return f(r,e,t)});if(s(r)){n(!isFinite(t));for(var i=0,u=void 0;t>i&&!(u=r.next()).done&&e(u.value,i++)!==!1;);return i}}return-1}function p(r,e){if(void 0===e&&(e=1/0),r===x)return[];if(!isFinite(e)&&Array.isArray(r))return r.slice();var n=t(r,e);if(-1===f(r,function(r,e){n[e]=r},e))throw new d.UnsupportedEnumerableException;return n}function m(r,e,n){if(void 0===n&&(n=1/0),r===x)return[];if(!isFinite(n)&&Array.isArray(r))return r.map(e);var i=t(r,n);if(-1===f(r,function(r,n){i[n]=e(r,n)},n))throw new d.UnsupportedEnumerableException;return i}var E=r("../../Disposable/dispose"),y=r("../../Types"),c=r("./ArrayEnumerator"),l=r("./IndexEnumerator"),d=r("./UnsupportedEnumerableException"),h=r("./InfiniteEnumerator"),T=r("./EmptyEnumerator"),v=r("./IteratorEnumerator"),x="",A="Cannot call forEach on an endless enumerable. Would result in an infinite loop that could hang the current process.";e.throwIfEndless=n,e.from=i,e.isEnumerable=o,e.isEnumerableOrArrayLike=u,e.isEnumerator=a,e.isIterator=s,e.forEach=f,e.toArray=p,e.map=m});
//# sourceMappingURL=Enumerator.js.map