/*!
 * @author electricessence / https://github.com/electricessence/
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 * Based upon Parallel.js: https://github.com/adambom/parallel.js/blob/master/lib/Worker.js
 */
!function(e,o){if("object"==typeof module&&"object"==typeof module.exports){var t=o(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(e,o)}(["require","exports","../Observable/ObservableBase","../../extends"],function(e,o){"use strict";var t=e("../Observable/ObservableBase"),r=e("../../extends"),s=r["default"],n=e("child_process"),i=function(e){function o(o){var t=e.call(this)||this,r=t._process=n.fork(o);return r.on("message",function(e){return t._onNext(JSON.parse(e))}),r.on("error",function(e){return t._onError(e)}),t}return s(o,e),o.prototype._onNext=function(o){e.prototype._onNext.call(this,o),this.onmessage&&this.onmessage({data:o})},o.prototype._onError=function(o){e.prototype._onError.call(this,o),this.onerror&&this.onerror(o)},o.prototype._onDispose=function(){e.prototype._onDispose.call(this),this._process.removeAllListeners(),this._process.kill(),this._process=null},o.prototype.postMessage=function(e){this.throwIfDisposed(),this._process.send(JSON.stringify({data:e}))},o.prototype.terminate=function(){this.dispose()},o}(t.ObservableBase);o.NodeJSWorker=i,Object.defineProperty(o,"__esModule",{value:!0}),o["default"]=i});
//# sourceMappingURL=NodeJSWorker.js.map