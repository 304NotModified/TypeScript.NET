{"version":3,"sources":["System/Time/DateTime.ts"],"names":["DateTime","DateTime.constructor","DateTime.setJsDate","DateTime.addMilliseconds","DateTime.addDays","DateTime.add","DateTime.jsDate","DateTime.timeOfDay","DateTime.now","DateTime.today","DateTime.tomorrow"],"mappings":";;;;;;;;;;;;;;;;;;uBAMyB,WAAW;;IAAxB,OAAO;;yBACG,aAAa;;;;IAEnC,QAAA;AAqBCA,aArBD,QAAA,GAqBmCA;YAAtBA,KAAKA,yDAAOA,IAAIA,IAAIA,EAAEA;;8BArBnC,QAAA;;AAuBEC,YAAIA,CAACA,GAAGA,IAAIA,CAACA;AACbA,YAAGA,KAAKA,YAAYA,QAAQA,EAC3BA,CAACA,CAACA,MAAMA,GAAGA,KAAKA,CAACA,MAAMA,CAACA,KACpBA,IAAGA,KAAKA,YAAYA,IAAIA,EAC5BA,CAACA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA,KAEnBA,CAACA,CAACA,MAAMA,GAAGA,KAAKA,IAAEA,SAASA,GACxBA,IAAIA,IAAIA,EAAEA,GACVA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,CAACA;KACpBA;;iBAhCF,QAAA;;eAWkBD,mBAACA,KAAUA,EAAAA;AAE3BE,gBAAIA,CAACA,MAAMA,GAAGA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,EAAEA,CAACA,CAACA;SACxCA;;;eAqBcF,yBAACA,EAASA,EAAAA;AAExBG,cAAEA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;AACbA,mBAAOA,IAAIA,QAAQA,CAACA,IAAIA,CAACA,MAAMA,CAACA,OAAOA,EAAEA,GAAGA,EAAEA,CAACA,CAACA;SAChDA;;;eAEMH,iBAACA,IAAWA,EAAAA;AAElBI,gBAAIA,GAAGA,IAAIA,IAAIA,CAACA,CAACA;AACjBA,mBAAOA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,GAACA,QAA4BA,CAACA,CAACA;SAC/DA;;;eAOEJ,aAACA,IAAeA,EAAAA;AAClBK,mBAAOA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,CAACA,KAAKA,CAACA,YAAYA,CAACA,CAACA;SACrDA;;;aAhDSL,eAAAA;AAETM,mBAAOA,IAAIA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,OAAOA,EAAEA,CAACA,CAACA;SACvCA;;;aA+CYN,eAAAA;AACZO,gBAAIA,CAACA,GAAGA,IAAIA,CAACA,MAAMA,CAACA;AACpBA,mBAAOA,2BACNA,CAACA,CAACA,QAAQA,EAAEA,EACZA,CAACA,CAACA,UAAUA,EAAEA,EACdA,CAACA,CAACA,UAAUA,EAAEA,EACdA,CAACA,CAACA,eAAeA,EAAEA,CAACA,CAAAA;SACrBA;;;eAESP,eAAAA;AAETQ,mBAAOA,IAAIA,QAAQA,EAAEA,CAACA;SACtBA;;;eAEWR,iBAAAA;AAEXS,gBAAIA,GAAGA,GAAQA,IAAIA,IAAIA,EAAEA,CAACA;AAC1BA,mBAAOA,IAAIA,QAAQA,CAClBA,IAAIA,IAAIA,CACPA,GAAGA,CAACA,WAAWA,EAAEA,EACjBA,GAAGA,CAACA,QAAQA,EAAEA,EACdA,GAAGA,CAACA,OAAOA,EAAEA,CACbA,CACDA,CAACA;SACFA;;;eAEcT,oBAAAA;AAEdU,gBAAIA,KAAKA,GAAYA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;AACtCA,mBAAOA,KAAKA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;SACxBA;;;WAtFF,QAAA;;;qBAAA,QAAA;;AA0FA,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC","file":"System/Time/DateTime.js","sourcesContent":["/*\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\n///<reference path='ITimeTotal.d.ts'/>\r\nimport * as HowMany from './HowMany';\r\nimport ClockTime from './ClockTime';\r\n\r\nexport default\r\nclass DateTime\r\n{\r\n\r\n\tprivate _value:Date;\r\n\r\n\tget jsDate():Date\r\n\t{\r\n\t\treturn new Date(this._value.getTime()); // return a clone.\r\n\t}\r\n\r\n\tprivate setJsDate(value:Date)\r\n\t{\r\n\t\tthis._value = new Date(value.getTime());\r\n\t}\r\n\r\n\tconstructor();\r\n\tconstructor(dateString:string);\r\n\tconstructor(milliseconds:number);\r\n\tconstructor(source:Date);\r\n\tconstructor(source:DateTime);\r\n\tconstructor(value:any = new Date())\r\n\t{\r\n\t\tvar _ = this;\r\n\t\tif(value instanceof DateTime)\r\n\t\t\t_._value = value.jsDate;\r\n\t\telse if(value instanceof Date)\r\n\t\t\t_.setJsDate(value);\r\n\t\telse\r\n\t\t\t_._value = value==undefined\r\n\t\t\t\t? new Date()\r\n\t\t\t\t: new Date(value);\r\n\t}\r\n\r\n\r\n\taddMilliseconds(ms:number):DateTime\r\n\t{\r\n\t\tms = ms || 0;\r\n\t\treturn new DateTime(this._value.getTime() + ms);\r\n\t}\r\n\r\n\taddDays(days:number):DateTime\r\n\t{\r\n\t\tdays = days || 0;\r\n\t\treturn this.addMilliseconds(days*HowMany.Milliseconds.Per.Day);\r\n\t}\r\n\r\n\t/**\r\n\t * Receives an ITimeTotal value and adds based on the total milliseconds.\r\n\t * @param {ITimeTotal} time\r\n\t * @returns {DateTime}\r\n\t */\r\n\tadd(time:ITimeTotal):DateTime {\r\n\t\treturn this.addMilliseconds(time.total.milliseconds);\r\n\t}\r\n\r\n\tget timeOfDay():ClockTime {\r\n\t\tvar d = this._value;\r\n\t\treturn new ClockTime(\r\n\t\t\td.getHours(),\r\n\t\t\td.getMinutes(),\r\n\t\t\td.getSeconds(),\r\n\t\t\td.getMilliseconds())\r\n\t}\r\n\r\n\tstatic now():DateTime\r\n\t{\r\n\t\treturn new DateTime();\r\n\t}\r\n\r\n\tstatic today():DateTime\r\n\t{\r\n\t\tvar now:Date = new Date();\r\n\t\treturn new DateTime(\r\n\t\t\tnew Date(\r\n\t\t\t\tnow.getFullYear(),\r\n\t\t\t\tnow.getMonth(),\r\n\t\t\t\tnow.getDate()\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic tomorrow():DateTime\r\n\t{\r\n\t\tvar today:DateTime = DateTime.today();\r\n\t\treturn today.addDays(1);\r\n\t}\r\n\r\n}\r\n\r\nObject.freeze(DateTime);\r\n"]}