{"version":3,"sources":["System/Time/TimeQuantity.js","System/Time/TimeQuantity.ts"],"names":["define","require","exports","Compare_1","HowMany","TimeUnit_1","TimeQuantity","TimeQuantity.constructor","TimeQuantity.getTotalMilliseconds","get","TimeQuantity.direction","enumerable","configurable","TimeQuantity.equals","TimeQuantity.compareTo","TimeQuantity.total","TimeQuantity.getTotal","Object","defineProperty","value"],"mappings":";;;;AAIAA,QAAQ,UAAW,UAAW,aAAc,YAAa,cAAe,SAAUC,EAASC,EAASC,EAAWC,EAASC,GCWxH,GAAAC,GAAA,WAICA,QAAAA,GAAsBA,GAAVC,SAAAA,IAAAA,EAAAA,GAAUA,KAAAA,UAAAA,EA2EvBD,MAtECA,GAAAA,UAAAA,qBAAAA,WAECE,MAAOA,MAAKA,WAObF,OAAAA,eAAIA,EAAAA,UAAAA,aDnBOG,ICmBXH,WAECI,MAAOA,GAAAA,QAAQA,KAAKA,uBAAwBA,IDlBlCC,YAAY,EACZC,cAAc,ICyBzBN,EAAAA,UAAAA,OAAAA,SAAOA,GAENO,MAAOA,GAAAA,SAASA,KAAKA,uBAAwBA,GAASA,EAAMA,OAASA,EAAMA,MAAMA,eAQlFP,EAAAA,UAAAA,UAAAA,SAAUA,GAETQ,MAAOA,GAAAA,QAAQA,KAAKA,uBAAwBA,GAASA,EAAMA,OAASA,EAAMA,MAAMA,eAWjFR,OAAAA,eAAIA,EAAAA,UAAAA,SDvCOG,ICuCXH,WAECS,GAAIA,GAAIA,KAAKA,MACbA,KAAIA,EACJA,CACCA,GAAIA,GAAKA,KAAKA,sBAEdA,MAAKA,OAASA,EAAsBA,OAAOA,QAC1CA,MAAUA,IAAHA,EACPA,aAAcA,EACdA,QAASA,EAAGA,IACZA,QAASA,EAAGA,IACZA,MAAOA,EAAGA,KACVA,KAAMA,EAAGA,QAGXA,MAAOA,IDxCGJ,YAAY,EACZC,cAAc,IC+CzBN,EAAAA,UAAAA,SAAAA,SAASA,GAERU,MAAOA,GAAAA,WAASA,iBAAiBA,KAAKA,uBAAwBA,IAEhEV,IA/EAW,QAAAC,eAAAhB,EAAA,cAAAiB,OAAA,IDoCIjB,EAAAA,WAAkBI","file":"System/Time/TimeQuantity.js","sourcesContent":["/*\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n(function (deps, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === 'function' && define.amd) {\r\n        define(deps, factory);\r\n    }\r\n})([\"require\", \"exports\", '../Compare', './HowMany', './TimeUnit'], function (require, exports) {\r\n    ///<reference path=\"ITimeQuantity.d.ts\"/>\r\n    ///<reference path=\"../IEquatable.d.ts\"/>\r\n    ///<reference path=\"../IComparable.d.ts\"/>\r\n    var Compare_1 = require('../Compare');\r\n    var HowMany = require('./HowMany');\r\n    var TimeUnit_1 = require('./TimeUnit');\r\n    var TimeQuantity = (function () {\r\n        function TimeQuantity(_quantity) {\r\n            if (_quantity === void 0) { _quantity = 0; }\r\n            this._quantity = _quantity;\r\n        }\r\n        TimeQuantity.prototype.getTotalMilliseconds = function () {\r\n            return this._quantity;\r\n        };\r\n        Object.defineProperty(TimeQuantity.prototype, \"direction\", {\r\n            get: function () {\r\n                return Compare_1.compare(this.getTotalMilliseconds(), 0);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TimeQuantity.prototype.equals = function (other) {\r\n            return Compare_1.areEqual(this.getTotalMilliseconds(), other && other.total && other.total.milliseconds);\r\n        };\r\n        TimeQuantity.prototype.compareTo = function (other) {\r\n            return Compare_1.compare(this.getTotalMilliseconds(), other && other.total && other.total.milliseconds);\r\n        };\r\n        Object.defineProperty(TimeQuantity.prototype, \"total\", {\r\n            get: function () {\r\n                var t = this._total;\r\n                if (!t) {\r\n                    var ms = this.getTotalMilliseconds();\r\n                    this._total = t = Object.freeze({\r\n                        ticks: ms * 10000,\r\n                        milliseconds: ms,\r\n                        seconds: ms / 1000,\r\n                        minutes: ms / 60000,\r\n                        hours: ms / 3600000,\r\n                        days: ms / 86400000,\r\n                    });\r\n                }\r\n                return t;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TimeQuantity.prototype.getTotal = function (units) {\r\n            return TimeUnit_1.default.fromMilliseconds(this.getTotalMilliseconds(), units);\r\n        };\r\n        return TimeQuantity;\r\n    })();\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.default = TimeQuantity;\r\n});\r\n//# sourceMappingURL=TimeQuantity.js.map","/*\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\n///<reference path=\"ITimeQuantity.d.ts\"/>\r\n///<reference path=\"../IEquatable.d.ts\"/>\r\n///<reference path=\"../IComparable.d.ts\"/>\r\nimport {areEqual,compare} from '../Compare';\r\nimport * as HowMany from './HowMany';\r\nimport TimeUnit from './TimeUnit';\r\n\r\n/**\r\n * This class provides a simple means for storing and calculating time quantities.\r\n */\r\nexport default\r\nclass TimeQuantity implements IEquatable<ITimeQuantity>, IComparable<ITimeQuantity>, ITimeQuantity\r\n{\r\n\r\n\tconstructor(protected _quantity:number = 0)\r\n\t{\r\n\t}\r\n\r\n\t// Provides an overridable mechanism for extending this class.\r\n\tgetTotalMilliseconds():number\r\n\t{\r\n\t\treturn this._quantity;\r\n\t}\r\n\r\n\t/**\r\n\t * +1, 0, or -1 depending on the time direction.\r\n\t * @returns {CompareResult}\r\n\t */\r\n\tget direction():number\r\n\t{\r\n\t\treturn compare(this.getTotalMilliseconds(), 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Compares this instance against any other time quantity instance and return true if the amount of time is the same.\r\n\t * @param other\r\n\t * @returns {boolean}\r\n\t */\r\n\tequals(other:ITimeQuantity):boolean\r\n\t{\r\n\t\treturn areEqual(this.getTotalMilliseconds(), other && other.total && other.total.milliseconds);\r\n\t}\r\n\r\n\t/**\r\n\t * Compares this instance against any other time quantity instance.\r\n\t * @param other\r\n\t * @returns {CompareResult}\r\n\t */\r\n\tcompareTo(other:ITimeQuantity):number\r\n\t{\r\n\t\treturn compare(this.getTotalMilliseconds(), other && other.total && other.total.milliseconds);\r\n\t}\r\n\r\n\r\n\t// Clear this value if sub-class values change.\r\n\tprotected _total:ITimeMeasurement;\r\n\r\n\t/**\r\n\t * Returns an object with all units exposed as totals.\r\n\t * @returns {ITimeMeasurement}\r\n\t */\r\n\tget total():ITimeMeasurement\r\n\t{\r\n\t\tvar t = this._total;\r\n\t\tif(!t)\r\n\t\t{\r\n\t\t\tvar ms = this.getTotalMilliseconds();\r\n\r\n\t\t\tthis._total = t = <ITimeMeasurement>Object.freeze({\r\n\t\t\t\tticks: ms*HowMany.Ticks.Per.Millisecond,\r\n\t\t\t\tmilliseconds: ms,\r\n\t\t\t\tseconds: ms/HowMany.Milliseconds.Per.Second,\r\n\t\t\t\tminutes: ms/HowMany.Milliseconds.Per.Minute,\r\n\t\t\t\thours: ms/HowMany.Milliseconds.Per.Hour,\r\n\t\t\t\tdays: ms/HowMany.Milliseconds.Per.Day,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn t;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the total amount of time measured in the requested TimeUnit.\r\n\t * @param units\r\n\t * @returns {number}\r\n\t */\r\n\tgetTotal(units:TimeUnit):number\r\n\t{\r\n\t\treturn TimeUnit.fromMilliseconds(this.getTotalMilliseconds(), units);\r\n\t}\r\n}\r\n"]}