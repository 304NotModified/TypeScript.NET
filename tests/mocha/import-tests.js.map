{"version":3,"sources":["import-tests.ts"],"names":["getFilesAt","getDirectoriesAt","importRecursive"],"mappings":";;;;;;;;IAEA,IAAY,EAAE,WAAM,IAAI,CAAC,CAAA;IAEzB,IAAM,IAAI,GAAG,gBAAgB,CAAC;IAE9B,oBAAoB,IAAW,EAAE,GAAW;QAE3CA,MAAMA,CAACA,EAAEA;aACPA,WAAWA,CAACA,IAAIA,CAACA;aACjBA,MAAMA,CAACA,UAACA,IAAIA;mBACbA,CAACA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,WAAWA,CAACA,GAAGA,CAACA,IAAEA,IAAIA,CAACA,MAAMA,GAAGA,GAAGA,CAACA,MAAMA,CAACA;mBACtDA,EAAEA,CAACA,QAAQA,CAACA,IAAIA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA,CAACA,MAAMA,EAAEA;QAD1CA,CAC0CA,CAACA,CAACA;IAC9CA,CAACA;IAED,0BAA0B,IAAW;QAEpCC,MAAMA,CAACA,EAAEA;aACPA,WAAWA,CAACA,IAAIA,CAACA;aACjBA,MAAMA,CAACA,UAACA,IAAIA,IAAGA,OAAAA,EAAEA,CAACA,QAAQA,CAACA,IAAIA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA,CAACA,WAAWA,EAAEA,EAA5CA,CAA4CA,CAACA,CAACA;IAChEA,CAACA;IAED,yBAAyB,IAAgB,EAAE,WAA2B,EAAE,IAAgB;QAA/DC,oBAAgBA,GAAhBA,SAAgBA;QAAEA,2BAA2BA,GAA3BA,mBAA2BA;QAAEA,oBAAgBA,GAAhBA,SAAgBA;QAEvFA,IAAIA,OAAOA,GAAGA,IAAIA,GAAGA,IAAIA,CAACA;QAC1BA,EAAEA,CAAAA,CAACA,WAAWA,CAACA;YAACA,OAAOA,CAACA,GAAGA,CAACA,OAAOA,CAACA,CAACA;QACrCA,gBAAgBA,CAACA,IAAIA,GAAGA,OAAOA,CAACA;aAC9BA,IAAIA,EAAEA;aACNA,OAAOA,CAACA,UAACA,OAAOA;YAEhBA,QAAQA,CAACA,OAAOA,GAAGA,GAAGA,EAAEA;gBAEvBA,eAAeA,CAACA,OAAOA,EAAEA,IAAIA,EAAEA,OAAOA,GAAGA,GAAGA,CAACA,CAACA;YAC/CA,CAACA,CAACA,CAACA;QACJA,CAACA,CAACA,CAACA;QAEJA,EAAEA,CAAAA,CAACA,WAAWA,CAACA,CACfA,CAACA;YACAA,IAAIA,KAAKA,GAAGA,UAAUA,CAACA,IAAIA,GAAGA,OAAOA,EAAEA,KAAKA,CAACA,EAAEA,KAAKA,GAAGA,KAAKA,CAACA,MAAMA,CAACA;YAEpEA,KAAKA;iBACHA,IAAIA,EAAEA;iBACNA,OAAOA,CAACA,UAACA,QAAQA;gBAEjBA,IAAIA,QAAQA,GAAGA,OAAOA,GAAGA,GAAGA,GAAGA,QAAQA,CAACA;gBACxCA,OAAOA,CAACA,GAAGA,CAACA,GAAGA,EAAEA,QAAQA,CAACA,CAACA;gBAE3BA,IAAIA,IAAIA,GAAGA,QAAQA,CAACA,OAAOA,CAACA,OAAOA,EAAEA,EAAEA,CAACA,CAACA;gBAEzCA,IAAIA,CAACA,GAAGA;oBAEPA,OAAOA,CAACA,IAAIA,GAAGA,QAAQA,CAACA,CAACA;gBAC1BA,CAACA,CAACA;gBAGFA,EAAEA,CAAAA,CAACA,KAAKA,IAAEA,CAACA,IAAIA,IAAIA,IAAEA,IAAIA,CAACA;oBAACA,CAACA,EAAEA,CAACA;gBAC/BA,IAAIA;oBAACA,QAAQA,CAACA,IAAIA,EAAEA,CAACA,CAACA,CAACA;YAExBA,CAACA,CAACA,CAACA;QACLA,CAACA;IAEFA,CAACA;IACD,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAChC,eAAe,EAAE,CAAC","file":"import-tests.js","sourcesContent":["///<reference path=\"import\"/>\r\n\r\nimport * as fs from \"fs\";\r\n\r\nconst root = \"./tests/mocha/\";\r\n\r\nfunction getFilesAt(path:string, ext?:string):string[]\r\n{\r\n\treturn fs\r\n\t\t.readdirSync(path)\r\n\t\t.filter((name)=>\r\n\t\t(!ext || name.lastIndexOf(ext)==name.length - ext.length)\r\n\t\t&& fs.statSync(path + '/' + name).isFile());\r\n}\r\n\r\nfunction getDirectoriesAt(path:string):string[]\r\n{\r\n\treturn fs\r\n\t\t.readdirSync(path)\r\n\t\t.filter((name)=>fs.statSync(path + '/' + name).isDirectory());\r\n}\r\n\r\nfunction importRecursive(path:string = \"\", importFiles:boolean = false, base:string = \"\")\r\n{\r\n\tvar dirPath = base + path;\r\n\tif(importFiles) console.log(dirPath);\r\n\tgetDirectoriesAt(root + dirPath)\r\n\t\t.sort()\r\n\t\t.forEach((dirname)=>\r\n\t\t{\r\n\t\t\tdescribe(dirname + '/', ()=>\r\n\t\t\t{\r\n\t\t\t\timportRecursive(dirname, true, dirPath + '/');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\tif(importFiles)\r\n\t{\r\n\t\tvar files = getFilesAt(root + dirPath, '.js'), count = files.length;\r\n\r\n\t\tfiles\r\n\t\t\t.sort()\r\n\t\t\t.forEach((filename)=>\r\n\t\t\t{\r\n\t\t\t\tvar filePath = dirPath + '/' + filename;\r\n\t\t\t\tconsole.log(\" \", filename);\r\n\r\n\t\t\t\tvar name = filename.replace(/\\.js$/, '');\r\n\r\n\t\t\t\tvar i = ()=>\r\n\t\t\t\t{\r\n\t\t\t\t\trequire('./' + filePath);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Allows for simple default instead of recursive.\r\n\t\t\t\tif(count==1 && name==path) i();\r\n\t\t\t\telse describe(name, i);\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n}\r\nconsole.log(\"Importing Tests:\");\r\nimportRecursive();\r\n"]}