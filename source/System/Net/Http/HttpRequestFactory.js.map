{"version":3,"sources":["System/Net/Http/HttpRequestFactory.ts"],"names":[],"mappings":"AAAA;;;GAGG;;;;;;;;;;IAIH,sCAAoC,wCAAwC,CAAC,CAAA;IAC7E,+BAA6B,iCAAiC,CAAC,CAAA;IAE/D,2BAAqC,cAAc,CAAC,CAAA;IACpD,oBAAkB,eAAe,CAAC,CAAA;IAGlC,wBAA4B,kBAAkB,CAAC,CAAA;IAC/C,IAAM,SAAS,GAAG,iBAAe,CAAC;IAKlC;QAAgD,sCAAc;QAK7D,4BACS,KAAyB,EACjC,WAAwB;YAExB,iBAAO,CAAC;YAHA,UAAK,GAAL,KAAK,CAAoB;YAKjC,IAAI,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;YAElD,EAAE,CAAA,CAAC,CAAC,KAAK,CAAC;gBACT,MAAM,IAAI,6CAAqB,CAAC,OAAO,CAAC,CAAC;YAE1C,IAAI,CAAC,YAAY,GAAG,SAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3C,CAAC;QAES,uCAAU,GAApB;YAGC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC1B,CAAC;QAED,gCAAG,GAAH,UAAI,GAAe;YAGlB,IAAI,CAAC,GAAG,IAAI,CAAC;YACb,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,IAAI,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;kBAC5B,CAAC;kBACD,IAAI,kBAAkB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACvC,CAAC;QAED,mCAAM,GAAN,UAAO,MAA6B;YAEnC,IAAI,CAAC,GAAG,IAAI,CAAC;YACb,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;QAClD,CAAC;QAED,oCAAO,GAAP,UAAiB,MAAsB,EAAE,IAAS;YAEjD,IAAI,CAAC,GAAG,IAAI,CAAC;YACb,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;gBACtB,MAAM,EAAE,MAAM;gBACd,GAAG,EAAE,CAAC,CAAC,YAAY;gBACnB,IAAI,EAAE,IAAI;aACV,CAAC,CAAC;QACJ,CAAC;QAGD,gCAAG,GAAH;YAEC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,gBAAG,CAAC,CAAC;QACnC,CAAC;QAED,gCAAG,GAAH;YAEC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,gBAAG,CAAC,CAAC;QACnC,CAAC;QAED,iCAAI,GAAJ,UAAc,IAAQ;YAErB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,iBAAI,EAAE,IAAI,CAAC,CAAC;QAC1C,CAAC;QAED,sCAAQ,GAAR;YAEC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,mBAAM,CAAC,CAAC;QACtC,CAAC;QAEF,yBAAC;IAAD,CA5EA,AA4EC,CA5E+C,+BAAc,GA4E7D;IA5ED;wCA4EC,CAAA","file":"System/Net/Http/HttpRequestFactory.js","sourcesContent":["/*!\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\n\r\nimport * as QueryParam from \"../../Uri/QueryParam\";\r\nimport {ArgumentNullException} from \"../../Exceptions/ArgumentNullException\";\r\nimport {DisposableBase} from \"../../Disposable/DisposableBase\";\r\nimport {HttpMethodValue} from \"./HttpMethodValue\";\r\nimport {GET, PUT, POST, DELETE} from \"./HttpMethod\";\r\nimport {Uri} from \"../../Uri/Uri\";\r\nimport {IUri} from \"../../Uri/IUri\";\r\nimport {IHttpRequestAdapter} from \"./IHttpRequestAdapter\";\r\nimport __extendsImport from \"../../../extends\";\r\nconst __extends = __extendsImport;\r\n\r\n/**\r\n * This class exposes a factory for making requests to prepared uri and params.\r\n */\r\nexport default class HttpRequestFactory extends DisposableBase\r\n{\r\n\r\n\tprotected _uriDefaults:Uri;\r\n\r\n\tconstructor(\r\n\t\tprivate _http:IHttpRequestAdapter,\r\n\t\turiDefaults?:string|IUri)\r\n\t{\r\n\t\tsuper();\r\n\r\n\t\tthis._disposableObjectName = 'HttpRequestFactory';\r\n\r\n\t\tif(!_http)\r\n\t\t\tthrow new ArgumentNullException('_http');\r\n\r\n\t\tthis._uriDefaults = Uri.from(uriDefaults);\r\n\t}\r\n\r\n\tprotected _onDispose()\r\n\t{\r\n\t\t// super._onDispose(); // Not required for first level inheritance.\r\n\t\tthis._http = null;\r\n\t\tthis._uriDefaults = null;\r\n\t}\r\n\r\n\turi(uri:string|IUri):HttpRequestFactory\r\n\t{\r\n\r\n\t\tvar _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\tvar u = Uri.from(uri, _._uriDefaults);\r\n\t\treturn _._uriDefaults.equals(u)\r\n\t\t\t? _\r\n\t\t\t: new HttpRequestFactory(_._http, u);\r\n\t}\r\n\r\n\tparams(params:QueryParam.Convertible):HttpRequestFactory\r\n\t{\r\n\t\tvar _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\treturn _.uri(_._uriDefaults.updateQuery(params));\r\n\t}\r\n\r\n\trequest<TResult>(method:HttpMethodValue, data?:any):PromiseLike<TResult>\r\n\t{\r\n\t\tvar _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\treturn _._http.request({\r\n\t\t\tmethod: method,\r\n\t\t\turi: _._uriDefaults,\r\n\t\t\tdata: data\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tget<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(GET);\r\n\t}\r\n\r\n\tput<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(PUT);\r\n\t}\r\n\r\n\tpost<TResult>(data:any):PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(POST, data);\r\n\t}\r\n\r\n\t'delete'<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(DELETE);\r\n\t}\r\n\r\n}\r\n"]}