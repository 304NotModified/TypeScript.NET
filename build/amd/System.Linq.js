define("TypeScript.NET/System.Linq",["TypeScript.NET/System"],
function (System) {
	var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r};
	(function(n){(function(t){"use strict";function r(t){return n.DisposableBase.assertIsNotDisposed(t,"Enumerable was disposed.")}function y(n){return isNaN(n)?NaN:n}var k=n.Collections.ArrayUtility,i=n.Collections.EnumeratorBase,v=n.Collections.Dictionary,o=n.using,d=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.Greater=function(n,t){return n>t?n:t},t.prototype.Lesser=function(n,t){return n<t?n:t},t}(n.Functions),u=new d,e=new n.Types,w,f,s,h,c,l,b,p,a;(function(n){n[n.Break=0]="Break";n[n.Return=1]="Return";n[n.Skip=2]="Skip"})(t.EnumerableAction||(t.EnumerableAction={}));w=t.EnumerableAction;f=function(t){function f(n,i){t.call(this,i);this.enumeratorFactory=n}return __extends(f,t),f.fromArray=function(n){return new s(n)},f.from=function(t){if("getEnumerator"in t)return t;if(t instanceof Array||typeof t==n.Types.Object&&"length"in t)return f.fromArray(t);throw new Error("Unsupported enumerable.");},f.prototype.getEnumerator=function(){return this.assertIsNotDisposed(),this.enumeratorFactory()},f.prototype._onDispose=function(){t.prototype._onDispose.call(this);this.enumeratorFactory=null},f.choice=function(n){return new f(function(){return new i(null,function(t){return t.yieldReturn(n[Math.random()*n.length|0])})})},f.cycle=function(n){return new f(function(){var t;return new i(function(){t=0},function(i){return t>=n.length&&(t=0),i.yieldReturn(n[t++])})})},f.empty=function(){return new f(function(){return new i(null,u.False)})},f.repeat=function(n,t){return(typeof t=="undefined"&&(t=Infinity),isNaN(t)||t<=0)?f.empty():new f(function(){var r;return new i(function(){r=0},function(i){return r++<t?i.yieldReturn(n):!1})})},f.repeatWithFinalize=function(n,t){return new f(function(){var r;return new i(function(){r=n()},function(n){return n.yieldReturn(r)},function(){t(r)})})},f.make=function(n){return f.repeat(n,1)},f.range=function(n,t,r){return t?(r||(r=1),new f(function(){var u,f;return new i(function(){f=0;u=n-r},function(n){return f++<t?n.yieldReturn(u+=r):n.yieldBreak()})})):f.empty()},f.rangeDown=function(n,t,i){return i?i*=-1:i=-1,f.range(n,t,i)},f.toInfinity=function(n,t){return f.rangeTo(n,Infinity,t)},f.toNegativeInfinity=function(n,t){return f.rangeTo(n,-Infinity,t)},f.rangeTo=function(n,t,r){return n||(n=0),r||(r=1),r=Math.abs(r),new f(function(){var u;return n<t?new i(function(){u=n-r},function(n){var i=u+=r;return i<=t?n.yieldReturn(i):n.yieldBreak()}):new i(function(){u=n+r},function(n){var i=u-=r;return i>=t?n.yieldReturn(i):n.yieldBreak()})})},f.matches=function(n,t,r){var u,o;if(typeof r=="undefined"&&(r=""),u=typeof n,u!=e.String)throw new Error("Cannot exec RegExp matches of type '"+u+"'.");return t instanceof RegExp&&(r+=t.ignoreCase?"i":"",r+=t.multiline?"m":"",t=t.source),r.indexOf("g")===-1&&(r+="g"),o=n.length,new f(function(){var u;return new i(function(){u=new RegExp(t,r)},function(t){var i=u.exec(n);return i!==null?t.yieldReturn(i):!1})})},f.generate=function(n,t){return typeof t==e.Number&&(t<=0||isNaN(t))?f.empty():(t||(t=Infinity),new f(function(){var r;return new i(function(){r=0},function(i){var u=r++;return u<t?i.yieldReturn(n(u)):!1})}))},f.unfold=function(n,t){return new f(function(){var u,r;return new i(function(){u=0;r=n},function(n){return r=t(r,u++),n.yieldReturn(r)})})},f.defer=function(n){return new f(function(){var t;return new i(function(){t=n().getEnumerator()},function(n){return t.moveNext()?n.yieldReturn(t.current):n.yieldBreak()},function(){t.dispose()})})},f.forEach=function(n,t){var i=n,r=0;o(i.getEnumerator(),function(n){while(n.moveNext()&&t(n.current,r++)!==!1);})},f.prototype.assertIsNotDisposed=function(n){return typeof n=="undefined"&&(n="Enumerable was disposed."),t.prototype.assertIsNotDisposed.call(this,n)},f.prototype.forEach=function(n){var t=this,i;t.assertIsNotDisposed();i=0;o(t.getEnumerator(),function(r){while(t.assertIsNotDisposed()&&r.moveNext()&&n(r.current,i++)!==!1);})},f.prototype.toArray=function(n){var t=[];return n?this.where(n).toArray():(this.forEach(function(n){return t.push(n)}),t)},f.prototype.asEnumerable=function(){var n=this;return new f(function(){return n.getEnumerator()})},f.prototype.toLookup=function(n,t,i){typeof t=="undefined"&&(t=u.Identity);typeof i=="undefined"&&(i=u.Identity);var r=new v(i);return this.forEach(function(i){var u=n(i),f=t(i),e=r.get(u);e!==undefined?e.push(f):r.addByKeyValue(u,[f])}),new p(r)},f.prototype.toMap=function(n,t){var i={};return this.forEach(function(r){i[n(r)]=t(r)}),i},f.prototype.toDictionary=function(n,t,i){typeof i=="undefined"&&(i=u.Identity);var r=new v(i);return this.forEach(function(i){return r.addByKeyValue(n(i),t(i))}),r},f.prototype.toJoinedString=function(n,t){return typeof n=="undefined"&&(n=""),typeof t=="undefined"&&(t=u.Identity),this.select(t).toArray().join(n)},f.prototype.doAction=function(n){var u=this,t=!u.assertIsNotDisposed();return new f(function(){var f,e;return new i(function(){r(t);e=0;f=u.getEnumerator()},function(i){for(r(t);f.moveNext();){var u=n(f.current,e++);if(u===!1||u===w)return i.yieldBreak();if(u!==2)return i.yieldReturn(f.current)}return!1},function(){f.dispose()})},function(){t=!0})},f.prototype.force=function(n){typeof n=="undefined"&&(n=0);this.assertIsNotDisposed();this.doAction(function(){return n})},f.prototype.skip=function(n){return this.assertIsNotDisposed(),!n||n<0?this.asEnumerable():this.doAction(function(t,i){return i<n?2:1})},f.prototype.skipWhile=function(n){this.assertIsNotDisposed();var t=!0;return this.doAction(function(i,r){return t&&(t=n(i,r)),t?2:1})},f.prototype.take=function(n){return this.assertIsNotDisposed(),!n||n<0?f.empty():this.doAction(function(t,i){return i<n})},f.prototype.takeExceptLast=function(n){typeof n=="undefined"&&(n=1);var t=this;return new f(function(){if(n<=0)return t.getEnumerator();var r,u;return new i(function(){r=t.getEnumerator();u=[]},function(t){while(r.moveNext())if(u.push(r.current),u.length>n)return t.yieldReturn(u.shift());return!1},function(){r.dispose()})})},f.prototype.takeFromLast=function(n){if(!n||n<0)return f.empty();var t=this;return new f(function(){var r;return new i(function(){var i=[];o(t.getEnumerator(),function(t){while(t.moveNext())i.length==n&&i.shift(),i.push(t.current)});r=f.fromArray(i).getEnumerator()},function(n){return r.moveNext()&&n.yieldReturn(r.current)},function(){r.dispose()})})},f.prototype.traverseBreadthFirst=function(n,t){var r=this;return new f(function(){var u,o=0,e=[];return new i(function(){u=r.getEnumerator()},function(i){for(;;){if(u.moveNext())return e.push(u.current),i.yieldReturn(t(u.current,o));var r=f.fromArray(e).selectMany(function(t){return n(t)});if(r.any())o++,e=[],u.dispose(),u=r.getEnumerator();else return!1}},function(){u.dispose()})})},f.prototype.traverseDepthFirst=function(n,t){var r=this;return new f(function(){var f=[],u;return new i(function(){u=r.getEnumerator()},function(i){for(;;){if(u.moveNext()){var r=t(u.current,f.length);return f.push(u),u=n(u.current).getEnumerator(),i.yieldReturn(r)}if(f.length==0)return!1;u.dispose();u=f.pop()}},function(){try{u.dispose()}finally{f.forEach(function(n){return n.dispose()})}})})},f.prototype.flatten=function(){var n=this;return new f(function(){var r,t=null;return new i(function(){r=n.getEnumerator()},function(n){for(;;){if(t!=null){if(t.moveNext())return n.yieldReturn(t.current);t=null}if(r.moveNext()){var i=r.current;if(i instanceof Array){t.dispose();t=f.fromArray(i).selectMany(u.Identity).flatten().getEnumerator();continue}else return n.yieldReturn(r.current)}return!1}},function(){try{r.dispose()}finally{t.dispose()}})})},f.prototype.pairwise=function(n){var t=this;return new f(function(){var r;return new i(function(){r=t.getEnumerator();r.moveNext()},function(t){var i=r.current;return r.moveNext()&&t.yieldReturn(n(i,r.current))},function(){r.dispose()})})},f.prototype.scan=function(n,t){var r=t!==undefined,u=this;return new f(function(){var f,e,o;return new i(function(){f=u.getEnumerator();o=!0},function(i){return o?(o=!1,r?i.yieldReturn(e=t):f.moveNext()&&i.yieldReturn(e=f.current)):f.moveNext()?i.yieldReturn(e=n(e,f.current)):!1},function(){f.dispose()})})},f.prototype.select=function(n){var t=this,u=!t.assertIsNotDisposed();return n.length<2?new c(t,null,n):new f(function(){var f,e;return new i(function(){r(u);e=0;f=t.getEnumerator()},function(t){return r(u),f.moveNext()?t.yieldReturn(n(f.current,e++)):!1},function(){f.dispose()})},function(){u=!0})},f.prototype.selectMany=function(t,r){var u=this;return r||(r=function(n,t){return t}),new f(function(){var e,f,o;return new i(function(){e=u.getEnumerator();f=undefined;o=0},function(i){if(f===undefined&&!e.moveNext())return!1;do{if(!f){var u=t(e.current,o++);if(!u)continue;f=n.Collections.Enumerator.from(u)}if(f.moveNext())return i.yieldReturn(r(e.current,f.current));f.dispose();f=null}while(e.moveNext());return!1},function(){try{e.dispose();e=null}finally{f&&f.dispose();f=null}})})},f.prototype.choose=function(n){var u=this,t=!u.assertIsNotDisposed();return new f(function(){var f,e;return new i(function(){r(t);e=0;f=u.getEnumerator()},function(i){for(r(t);f.moveNext();){var u=n(f.current,e++);if(u!==null&&u!==undefined)return i.yieldReturn(u)}return!1},function(){f.dispose()})},function(){t=!0})},f.prototype.where=function(n){var t=this,u=!t.assertIsNotDisposed();return n.length<2?new h(t,n):new f(function(){var f,e;return new i(function(){r(u);e=0;f=t.getEnumerator()},function(t){for(r(u);f.moveNext();)if(n(f.current,e++))return t.yieldReturn(f.current);return!1},function(){f.dispose()})},function(){u=!0})},f.prototype.ofType=function(n){var t;switch(n){case Number:t=e.Number;break;case String:t=e.String;break;case Boolean:t=e.Boolean;break;case Function:t=e.Function;break;default:t=null}return t===null?this.where(function(t){return t instanceof n}):this.where(function(n){return typeof n===t})},f.prototype.except=function(t,u){var o=this,e=!o.assertIsNotDisposed();return new f(function(){var h,s;return new i(function(){r(e);h=o.getEnumerator();s=new n.Collections.Dictionary(u);t&&f.forEach(t,function(n){return s.addByKeyValue(n,!0)})},function(n){for(r(e);h.moveNext();){var t=h.current;if(!s.containsKey(t))return s.addByKeyValue(t,!0),n.yieldReturn(t)}return!1},function(){h.dispose();s.clear()})},function(){e=!0})},f.prototype.distinct=function(n){return this.except(null,n)},f.prototype.distinctUntilChanged=function(n){var u=this,t=!u.assertIsNotDisposed();return new f(function(){var f,e,o=!0;return new i(function(){r(t);f=u.getEnumerator()},function(i){for(r(t);f.moveNext();){var u=n(f.current);if(o)o=!1;else if(e===u)continue;return e=u,i.yieldReturn(f.current)}return!1},function(){f.dispose()})},function(){t=!0})},f.prototype.reverse=function(){var n=this,t=!n.assertIsNotDisposed();return new f(function(){var u,f;return new i(function(){r(t);u=n.toArray();f=u.length},function(n){return f>0&&n.yieldReturn(u[--f])},function(){u.length=0})},function(){t=!0})},f.prototype.shuffle=function(){var n=this,t=!n.assertIsNotDisposed();return new f(function(){var u;return new i(function(){r(t);u=n.toArray()},function(n){var t=u.length;return t&&n.yieldReturn(u.splice(Math.random()*t|0,1).pop())},function(){u.length=0})},function(){t=!0})},f.prototype.count=function(n){var i=this,t;return i.assertIsNotDisposed(),t=0,n?i.forEach(function(i,r){n(i,r)&&++t}):i.forEach(function(){++t}),t},f.prototype.all=function(n){var t=!0;return this.forEach(function(i){if(!n(i))return t=!1,!1}),t},f.prototype.every=function(n){return this.all(n)},f.prototype.any=function(n){var t=!1;return n?this.forEach(function(i){return t=n(i),!t}):this.forEach(function(){return t=!0,!1}),t},f.prototype.some=function(n){return this.any(n)},f.prototype.isEmpty=function(){return!this.any()},f.prototype.contains=function(n,t){return t?this.any(function(i){return t(i)===t(n)}):this.any(function(t){return t===n})},f.prototype.indexOf=function(t,i){var r=-1;return i?this.forEach(function(n,u){if(i(n)===i(t))return r=u,!1}):this.forEach(function(i,u){if(n.areEqual(i,t,!0))return r=u,!1}),r},f.prototype.lastIndexOf=function(t,i){var r=-1;return i?this.forEach(function(n,u){i(n)===i(t)&&(r=u)}):this.forEach(function(i,u){n.areEqual(i,t,!0)&&(r=u)}),r},f.prototype.defaultIfEmpty=function(n){typeof n=="undefined"&&(n=null);var t=this,u=!t.assertIsNotDisposed();return new f(function(){var f,e;return new i(function(){e=!0;r(u);f=t.getEnumerator()},function(t){return(r(u),f.moveNext())?(e=!1,t.yieldReturn(f.current)):e?(e=!1,t.yieldReturn(n)):!1},function(){f.dispose()})})},f.prototype.sequenceEqual=function(t,i){return typeof i=="undefined"&&(i=n.areEqual),o(this.getEnumerator(),function(n){return o(t.getEnumerator(),function(t){while(n.moveNext())if(!t.moveNext()||!i(n.current,t.current))return!1;return!t.moveNext()})})},f.prototype.union=function(n,t){typeof t=="undefined"&&(t=u.Identity);var r=this;return new f(function(){var o,u,e;return new i(function(){o=r.getEnumerator();e=new v(t)},function(t){var i;if(u===undefined){while(o.moveNext())if(i=o.current,!e.containsKey(i))return e.addByKeyValue(i,null),t.yieldReturn(i);u="getEnumerator"in n?n:f.fromArray(n).getEnumerator()}while(u.moveNext())if(i=u.current,!e.containsKey(i))return e.addByKeyValue(i,null),t.yieldReturn(i);return!1},function(){try{o.dispose()}finally{u.dispose()}})})},f.prototype.orderBy=function(n){return typeof n=="undefined"&&(n=u.Identity),new l(this,n,!1)},f.prototype.orderByDescending=function(n){return typeof n=="undefined"&&(n=u.Identity),new l(this,n,!0)},f.prototype.groupBy=function(n,t,i){typeof t=="undefined"&&(t=u.Identity);var r=this;return new f(function(){return r.toLookup(n,t,i).getEnumerator()})},f.prototype.partitionBy=function(n,t,r,e){typeof t=="undefined"&&(t=u.Identity);typeof r=="undefined"&&(r=function(n,t){return new a(n,t)});typeof e=="undefined"&&(e=u.Identity);var o=this;return new f(function(){var u,s,h,f=[];return new i(function(){u=o.getEnumerator();u.moveNext()&&(s=n(u.current),h=e(s),f.push(t(u.current)))},function(i){for(var o,c;o=u.moveNext();)if(h===e(n(u.current)))f.push(t(u.current));else break;return f.length>0?(c=r(s,f),o?(s=n(u.current),h=e(s),f=[t(u.current)]):f=[],i.yieldReturn(c)):!1},function(){u.dispose()})})},f.prototype.buffer=function(n){if(n<1)throw new Error("Invalid buffer size.");var t=this;return new f(function(){var r;return new i(function(){r=t.getEnumerator()},function(t){for(var i=[];i.length<n&&r.moveNext();)i.push(r.current);return i.length&&t.yieldReturn(i)},function(){r.dispose()})})},f.prototype.aggregate=function(n,t){return this.scan(n,t).lastOrDefault()},f.prototype.average=function(n){typeof n=="undefined"&&(n=y);var t=0,i=0;return this.forEach(function(r){var u=n(r);if(!isNaN(u))return t=NaN,!1;t+=u;++i}),isNaN(t)||!i?NaN:t/i},f.prototype.max=function(){return this.aggregate(u.Greater)},f.prototype.min=function(){return this.aggregate(u.Lesser)},f.prototype.maxBy=function(n){return typeof n=="undefined"&&(n=u.Identity),this.aggregate(function(t,i){return n(t)>n(i)?t:i})},f.prototype.minBy=function(n){return typeof n=="undefined"&&(n=u.Identity),this.aggregate(function(t,i){return n(t)<n(i)?t:i})},f.prototype.sum=function(n){typeof n=="undefined"&&(n=y);var t=0;return this.forEach(function(i){var r=n(i);if(!isNaN(r))return t=NaN,!1;t+=r}),isNaN(t)?NaN:t},f.prototype.product=function(n){typeof n=="undefined"&&(n=y);var t=1,i=!1;return this.forEach(function(r){i=!0;var u=n(r);if(!isNaN(u))return t=NaN,!1;t*=u}),i&&isNaN(t)?NaN:t},f.prototype.elementAt=function(n){var i=this,r,t;if(i.assertIsNotDisposed(),t=!1,i.forEach(function(i,u){if(u==n)return r=i,t=!0,!1}),!t)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return r},f.prototype.elementAtOrDefault=function(n,t){var i,u,r;return typeof t=="undefined"&&(t=null),i=this,i.assertIsNotDisposed(),r=!1,i.forEach(function(t,i){if(i==n)return u=t,r=!0,!1}),r?u:t},f.prototype.first=function(){var t=this,i,n;if(t.assertIsNotDisposed(),n=!1,t.forEach(function(t){return i=t,n=!0,!1}),!n)throw new Error("first:No element satisfies the condition.");return i},f.prototype.firstOrDefault=function(n){var t,r,i;return typeof n=="undefined"&&(n=null),t=this,t.assertIsNotDisposed(),i=!1,t.forEach(function(n){return r=n,i=!0,!1}),i?r:n},f.prototype.last=function(){var t=this,i,n;if(t.assertIsNotDisposed(),n=!1,t.forEach(function(t){n=!0;i=t}),!n)throw new Error("last:No element satisfies the condition.");return i},f.prototype.lastOrDefault=function(n){var t,r,i;return typeof n=="undefined"&&(n=null),t=this,t.assertIsNotDisposed(),i=!1,t.forEach(function(n){i=!0;r=n}),i?r:n},f.prototype.single=function(){var t=this,i,n;if(t.assertIsNotDisposed(),n=!1,t.forEach(function(t){if(n)throw new Error("single:sequence contains more than one element.");else n=!0,i=t}),!n)throw new Error("single:No element satisfies the condition.");return i},f.prototype.singleOrDefault=function(n){var i,r,t;return typeof n=="undefined"&&(n=null),i=this,i.assertIsNotDisposed(),t=!1,i.forEach(function(n){if(t)throw new Error("single:sequence contains more than one element.");else t=!0,r=n}),t?r:n},f.prototype.share=function(){var t=this,n;return t.assertIsNotDisposed(),new f(function(){return new i(function(){n||(n=t.getEnumerator())},function(t){return n.moveNext()&&t.yieldReturn(n.current)})},function(){n&&n.dispose()})},f.prototype.memoize=function(){var u=this,t=!u.assertIsNotDisposed(),n;return new f(function(){var e,f;return new i(function(){r(t);e||(e=u.getEnumerator());n||(n=[]);f=-1},function(i){return(r(t),f++,f>=n.length)?e.moveNext()?i.yieldReturn(n[f]=e.current):!1:i.yieldReturn(n[f])})},function(){t=!0;n&&(n.length=0);n=null})},f.prototype.catchError=function(n){var t=this,u=!t.assertIsNotDisposed();return new f(function(){var f;return new i(function(){try{r(u);f=t.getEnumerator()}catch(n){}},function(t){try{if(r(u),f.moveNext())return t.yieldReturn(f.current)}catch(i){n(i)}return!1},function(){f.dispose()})})},f.prototype.finallyAction=function(n){var t=this,u=!t.assertIsNotDisposed();return new f(function(){var f;return new i(function(){r(u);f=t.getEnumerator()},function(n){return r(u),f.moveNext()?n.yieldReturn(f.current):!1},function(){try{f.dispose()}finally{n()}})})},f}(n.DisposableBase);t.Enumerable=f;s=function(t){function i(i){var r=this;r._source=i;t.call(this,function(){return r.assertIsNotDisposed(),new n.Collections.ArrayEnumerator(function(){return r.assertIsNotDisposed("The underlying ArrayEnumerable was disposed."),r._source})})}return __extends(i,t),i.prototype._onDispose=function(){t.prototype._onDispose;this._source=null},Object.defineProperty(i.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),i.prototype.toArray=function(){var n=this.source,i,r,t;if(!n)return[];if(n instanceof Array)return n.slice();for(i=n.length,r=new Array(i),t=0;t<i;++t)r[t]=n[t];return r},i.prototype.asEnumerable=function(){return new i(this._source)},i.prototype.forEach=function(n){var r=this,i,t;if(r.assertIsNotDisposed(),i=r._source,i)for(t=0;t<i.length;++t)if(n(i[t],t)===!1)break},i.prototype.any=function(n){var r=this,i,u;return r.assertIsNotDisposed(),i=r._source,u=i?i.length:0,u&&(!n||t.prototype.any.call(this,n))},i.prototype.count=function(n){var u=this,i,r;return u.assertIsNotDisposed(),i=u._source,r=i?i.length:0,r&&(n?t.prototype.count.call(this,n):r)},i.prototype.elementAt=function(n){var r=this,i;return r.assertIsNotDisposed(),i=r._source,n<i.length&&n>=0?i[n]:t.prototype.elementAt.call(this,n)},i.prototype.elementAtOrDefault=function(n,t){var i,r;return typeof t=="undefined"&&(t=null),i=this,i.assertIsNotDisposed(),r=i._source,n<r.length&&n>=0?r[n]:t},i.prototype.first=function(){var i=this,n;return i.assertIsNotDisposed(),n=i._source,n&&n.length?n[0]:t.prototype.first.call(this)},i.prototype.firstOrDefault=function(n){var i,t;return typeof n=="undefined"&&(n=null),i=this,i.assertIsNotDisposed(),t=i._source,t&&t.length?t[0]:n},i.prototype.last=function(){var r=this,n,i;return r.assertIsNotDisposed(),n=r._source,i=n.length,i?n[i-1]:t.prototype.last.call(this)},i.prototype.lastOrDefault=function(n){var t,i,r;return typeof n=="undefined"&&(n=null),t=this,t.assertIsNotDisposed(),i=t._source,r=i.length,r?i[r-1]:n},i.prototype.skip=function(t){var i=this;return!t||t<0?i.asEnumerable():new f(function(){return new n.Collections.ArrayEnumerator(function(){return i._source},t)})},i.prototype.takeExceptLast=function(n){typeof n=="undefined"&&(n=1);var t=this,i=t._source?t._source.length:0;return t.take(i-n)},i.prototype.takeFromLast=function(n){if(!n||n<0)return f.empty();var t=this,i=t._source?t._source.length:0;return t.skip(i-n)},i.prototype.reverse=function(){var t=this;return new f(function(){return new n.Collections.ArrayEnumerator(function(){return t._source},t._source?t._source.length-1:0,-1)})},i.prototype.memoize=function(){return new i(this._source)},i.prototype.sequenceEqual=function(r,u){return(typeof u=="undefined"&&(u=n.areEqual),r instanceof Array)?k.areEqual(this.source,r,!0,u):r instanceof i?r.sequenceEqual(this.source,u):t.prototype.sequenceEqual.call(this,r,u)},i.prototype.toJoinedString=function(n,i){typeof n=="undefined"&&(n="");typeof i=="undefined"&&(i=u.Identity);var r=this._source;return!i&&r instanceof Array?r.join(n):t.prototype.toJoinedString.call(this,n,i)},i}(f);t.ArrayEnumerable=s;h=function(t){function i(n,i){t.call(this,null);this.prevSource=n;this.prevPredicate=i}return __extends(i,t),i.prototype.where=function(n){if(n.length>1)return t.prototype.where.call(this,n);var r=this.prevPredicate,u=function(t){return r(t)&&n(t)};return new i(this.prevSource,u)},i.prototype.select=function(n){return n.length>1?t.prototype.select.call(this,n):new c(this.prevSource,this.prevPredicate,n)},i.prototype.getEnumerator=function(){var i=this.prevPredicate,r=this.prevSource,t;return new n.Collections.EnumeratorBase(function(){t=r.getEnumerator()},function(n){while(t.moveNext())if(i(t.current))return n.yieldReturn(t.current);return!1},function(){t.dispose()})},i.prototype._onDispose=function(){t.prototype._onDispose.call(this);this.prevPredicate=null;this.prevSource=null},i}(f);t.WhereEnumerable=h;c=function(n){function t(t,i,r){n.call(this,null);this.prevSource=t;this.prevPredicate=i;this.prevSelector=r}return __extends(t,n),t.prototype.where=function(t){return t.length>1?n.prototype.where.call(this,t):new h(this,t)},t.prototype.select=function(i){if(i.length>1)return n.prototype.select.call(this,i);var r=this,u=r.prevSelector,f=function(n){return i(u(n))};return new t(r.prevSource,r.prevPredicate,f)},t.prototype.getEnumerator=function(){var t=this,r=t.prevPredicate,u=t.prevSource,f=t.prevSelector,n;return new i(function(){n=u.getEnumerator()},function(t){while(n.moveNext()){var i=n.current;if(r==null||r(i))return t.yieldReturn(f(i))}return!1},function(){n.dispose()})},t.prototype._onDispose=function(){var t=this;n.prototype._onDispose.call(this);t.prevPredicate=null;t.prevSource=null;t.prevSelector=null},t}(f);t.WhereSelectEnumerable=c;l=function(t){function i(n,i,r,u){t.call(this,null);this.source=n;this.keySelector=i;this.descending=r;this.parent=u}return __extends(i,t),i.prototype.createOrderedEnumerable=function(n,t){return new i(this.source,n,t,this)},i.prototype.thenBy=function(n){return this.createOrderedEnumerable(n,!1)},i.prototype.thenByDescending=function(n){return this.createOrderedEnumerable(n,!0)},i.prototype.getEnumerator=function(){var r=this,i,t,u=0;return new n.Collections.EnumeratorBase(function(){i=[];t=[];f.forEach(r.source,function(n,r){i.push(n);t.push(r)});var n=b.create(r);n.generateKeys(i);t.sort(function(t,i){return n.compare(t,i)})},function(n){return u<t.length?n.yieldReturn(i[t[u++]]):!1},function(){i&&(i.length=0);i=null;t&&(t.length=0);t=null})},i.prototype._onDispose=function(){t.prototype._onDispose.call(this);this.source=null;this.keySelector=null;this.descending=null;this.parent=null},i}(f);t.OrderedEnumerable=l;b=function(){function t(n,t,i){this.keySelector=n;this.descending=t;this.child=i;this.keys=null}return t.create=function(n,i){typeof i=="undefined"&&(i=null);var r=new t(n.keySelector,n.descending,i);return n.parent?t.create(n.parent,r):r},t.prototype.generateKeys=function(n){for(var t=this,r=n.length,f=t.keySelector,u=new Array(r),i=0;i<r;++i)u[i]=f(n[i]);t.keys=u;t.child&&t.child.generateKeys(n)},t.prototype.compare=function(t,i){var r=this,e=r.keys,u=n.compare(e[t],e[i]),f;return u==0?(f=r.child,f?f.compare(t,i):n.compare(t,i)):r.descending?-u:u},t}();p=function(){function t(n){this._dictionary=n}return Object.defineProperty(t.prototype,"count",{get:function(){return this._dictionary.count},enumerable:!0,configurable:!0}),t.prototype.get=function(n){return this._dictionary.get(n)},t.prototype.contains=function(n){return this._dictionary.containsKey(n)},t.prototype.getEnumerator=function(){var i=this,t;return new n.Collections.EnumeratorBase(function(){t=i._dictionary.getEnumerator()},function(n){if(!t.moveNext())return!1;var i=t.current;return n.yieldReturn(new a(i.key,i.value))},function(){t.dispose()})},t}();t.Lookup=p;a=function(n){function t(t,i){n.call(this,i);this._groupKey=t}return __extends(t,n),Object.defineProperty(t.prototype,"key",{get:function(){return this._groupKey},enumerable:!0,configurable:!0}),t}(s);t.Grouping=a})(n.Linq||(n.Linq={}));var t=n.Linq})(System||(System={}));
	return System.Linq;
});